<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>lineCap线条两端形状</title>
	<link rel="stylesheet" href="">
</head>
<body>

<canvas id="canvas" style="border:1px solid #aaa;display:block;margin:50px auto;">
    当前浏览器不支持Canvas，请更换浏览器后再试
</canvas>

<script>
    window.onload = function() {
    	var canvas = document.getElementById("canvas"),
    		context = canvas.getContext('2d');

    	canvas.width = 800;
    	canvas.height = 800;

        context.lineWidth=30;
        context.strokeStyle='red';

        context.beginPath(); // 进行一个全新的绘制，指定一个新的路径
        // 状态设置【canvas是基于状态绘制环境，而(canvas)不是基于对象的绘制环境】
        context.moveTo(100,200);
        context.lineTo(700,200);
        // 设置线条两端形状（默认为butt），只能用于线段的开始处和结尾处，不能用于线段的链接处
        context.lineCap='butt'; 
        context.stroke();

        context.beginPath();
        context.moveTo(100,400);
        context.lineTo(700,400);
        context.lineCap='round'; //圆头
        context.stroke();

        context.beginPath();
        context.moveTo(100,600);
        context.lineTo(700,600);
        context.lineCap='square'; //方头
        context.stroke();

        // 基线
        context.lineWidth=1;
        context.strokeStyle='#27a';
        context.beginPath();
        context.moveTo(100,100);
        context.lineTo(100,700);
        context.moveTo(700,100);
        context.lineTo(700,700);
        context.stroke();
	}
</script>
	
</body>
</html>